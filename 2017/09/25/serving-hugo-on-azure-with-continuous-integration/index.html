<!doctype html><html lang=en-us><head><title>Serving Hugo on Azure with Continuous Integration &#183; Hao's Blog</title><meta name=generator content="Hugo 0.74.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=author content="Hao Luo"><meta name=description content="Let's build a hugo site, continuously integrate it with Azure Blob and CDN using Travis CI"><link rel=canonical href=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/><link rel=icon href=https://blog.lifeishao.com/favicon.ico><link rel=apple-touch-icon href=https://blog.lifeishao.com/apple-touch-icon.png><link rel=stylesheet href=https://blog.lifeishao.com/css/style.css><link rel=stylesheet href=https://blog.lifeishao.com/css/font-awesome.min.css><link rel=stylesheet href=https://blog.lifeishao.com/css/monokai.css><link rel=stylesheet href=https://blog.lifeishao.com/fancybox/jquery.fancybox.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel=stylesheet type=text/css><meta property="og:title" content="Serving Hugo on Azure with Continuous Integration"><meta property="og:description" content="Let's build a hugo site, continuously integrate it with Azure Blob and CDN using Travis CI"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/"><meta property="article:published_time" content="2017-09-25T10:19:06-05:00"><meta property="article:modified_time" content="2017-09-25T10:19:06-05:00"><meta itemprop=name content="Serving Hugo on Azure with Continuous Integration"><meta itemprop=description content="Let's build a hugo site, continuously integrate it with Azure Blob and CDN using Travis CI"><meta itemprop=datePublished content="2017-09-25T10:19:06-05:00"><meta itemprop=dateModified content="2017-09-25T10:19:06-05:00"><meta itemprop=wordCount content="1084"><meta itemprop=keywords content="Azure,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Serving Hugo on Azure with Continuous Integration"><meta name=twitter:description content="Let's build a hugo site, continuously integrate it with Azure Blob and CDN using Travis CI"><meta name=twitter:site content="@howlowck"><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js></script></head><body><div class=container><div id=container><header id=header><div id=header-main class=header-inner><div class=outer><a href=https://blog.lifeishao.com/ id=logo><i class=logo style=background-image:url(https://blog.lifeishao.com/css/images/logo.png)></i><span class=site-title>Hao's Blog</span></a><nav id=main-nav><a class=main-nav-link href=https://blog.lifeishao.com/>Home</a>
<a class=main-nav-link href=https://blog.lifeishao.com/tags/>Tags</a>
<a class=main-nav-link href=https://blog.lifeishao.com/categories/>Categories</a></nav><nav id=sub-nav><div class=profile id=profile-nav><a id=profile-anchor href=javascript:;><img class=avatar src=https://blog.lifeishao.com/img/me.jpg><i class="fa fa-caret-down"></i></a></div></nav><div id=search-form-wrap><form action=//google.com/search method=get accept-charset=utf-8 class=search-form><input type=search name=q class=search-form-input placeholder=Search>
<button type=submit class=search-form-submit></button>
<input type=hidden name=sitesearch value=https://blog.lifeishao.com/></form></div></div></div><div id=main-nav-mobile class="header-sub header-inner"><table class="menu outer"><tbody><tr><td><a class=main-nav-link href=https://blog.lifeishao.com/>Home</a></td><td><a class=main-nav-link href=https://blog.lifeishao.com/tags/>Tags</a></td><td><a class=main-nav-link href=https://blog.lifeishao.com/categories/>Categories</a></td><td><form action=//google.com/search method=get accept-charset=utf-8 class=search-form><input type=search name=q class=search-form-input placeholder=Search>
<input type=hidden name=sitesearch value=https://blog.lifeishao.com/></form></td></tr></tbody></table></div></header><div class=outer><aside id=profile><div class="inner profile-inner"><div class="base-info profile-block"><img id=avatar src=https://blog.lifeishao.com/img/me.jpg><h2 id=name>Hao Luo</h2><h3 id=title>Jesus Follower, Developer, Technical Evangelist</h3><span id=location><i class="fa fa-map-marker"></i>Chicago, IL</span>
<a id=follow href=https://twitter.com/howlowck>Follow</a></div><div class="article-info profile-block"><div class=article-info-block>8
<span>Posts</span></div><div class=article-info-block>9
<span>Tags</span></div></div><div class="profile-block social-links"><table><tr><td><a href=//github.com/howlowck target=_blank title=GitHub><i class="fa fa-github"></i></a></td><td><a href=//instagram.com/lifeishao target=_blank title=Instagram><i class="fa fa-instagram"></i></a></td><td><a href=//linkedin.com/in/haoluo12 target=_blank title=LinkedIn><i class="fa fa-linkedin"></i></a></td><td><a href=//twitter.com/howlowck target=_blank title=Twitter><i class="fa fa-twitter"></i></a></td><td><a href=https://blog.lifeishao.com/index.xml target=_blank title=RSS><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id=main><article id=page-undefined class="article article-type-page" itemscope itemprop=blogPost><div class=article-inner><img src=https://blog.lifeishao.com/img/hugo-travis-azure.jpg class=article-banner><header class=article-header><a href=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/><h1 class=article-title itemprop=name>Serving Hugo on Azure with Continuous Integration</h1></a><div class=article-meta><div class=article-date><i class="fa fa-calendar"></i><time datetime="2017-09-25 10:19:06 -0500 -0500" itemprop=datePublished>2017-09-25</time>
&#183;
1084
words
&#183;
6
minute read</div><div class=article-category><i class="fa fa-tags"></i><a class=article-category-link href=https://blog.lifeishao.com/tags/azure>Azure</a></div></div></header><div class=article-entry itemprop=articleBody><h2 id=why>Why?</h2><p>In my <a href=https://blog.lifeishao.com/2017/05/24/serving-your-static-sites-with-azure-blob-and-cdn/>last post</a>, I walked through how to configure your Azure blob and CDN to serve your static website. The deployment script outlined in that post is fine for a simple blog site. However, it is not a solution if you have a site that is contributed by multiple people. Everytime anyone pushes, they would get a merge conflict on the generated content, or they can <code>force</code> push and risk losing other changes.</p><p>It is generally best practice to delegate the build/deploy steps after a push to a remote repo, in our case it&rsquo;s Github. <a href=https://travis-ci.org/>Travis CI</a> lets you build and deploy all Open Source software for free. So we will utilize Travis to build your Hugo site on every push to Github.</p><p>After this post, you will have a Hugo blog that will continuously integrate with your Azure Blob and CDN deployment, without you worrying about building or deploying the site yourself.</p><p>Pre-requisites for this post:</p><ul><li>Have an Azure Account</li><li>Have a blob storage</li><li>Set up a CDN profile and endpoint</li><li>Have a travis-ci.org</li><li>Have a github repo</li></ul><p>Please refer to the <a href=https://blog.lifeishao.com/2017/05/24/serving-your-static-sites-with-azure-blob-and-cdn/>previous post</a> if you need help setting up the CDN and Blob Storage. This post will walk through how to set up continous integration with TravisCI.</p><h2 id=1-make-sure-your-hugo-repo-is-clean-to-build>1. Make sure your hugo repo is clean to build</h2><p>By default, Hugo generates a directory called <code>public</code>. If we want Travis to build this directory for us, we need to remove the <code>public</code> directory from source control.</p><ul><li><code>rm -rf public</code></li><li><code>git add .</code></li><li><code>git commit -m "removed public"</code></li><li><code>git push</code></li><li>add <code>public/</code> to your <code>.gitignore</code> file.</li></ul><p>Make sure your <code>themes</code> directory is also not in your repo. This ensure that on every build, your theme is up to date. If you choose to include the theme in your repo, then you&rsquo;ll need to modify the <code>.travis.yml</code> file (in the post later) a bit.</p><h2 id=2-install-azure-cli>2. Install Azure CLI</h2><p>Download and install the <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">lastest version of Azure Cli</a>.</p><p>Login with Azure CLI with <code>az login</code>, and follow the prompt.</p><h2 id=3-create-an-azure-service-principal>3. Create an Azure Service Principal</h2><p>An azure service principal allows you to granularly control who has control over your specific Azure resources. In other words, service principal lets other apps operate certain things on your azure account without you giving them your Azure password. Security FTW!</p><p>To create a service princpal:<br><code>az ad sp create-for-rbac --name {appName} --password "{strong password}"</code></p><blockquote><p>Note: appName can be anything, and make sure you type a STRONG password.</p></blockquote><p><img src=/hugo-travis/create-service-principal.jpg alt="Create a Service Principal"></p><p>You will get back a json object. Copy that json object somewhere secure, and we will use much of this information when we are integrating with Travis. Specifically: <code>appId</code>, <code>password</code>, and <code>tenantId</code></p><h2 id=4-configure-your-service-principal-for-cdn>4. Configure your Service Principal for CDN</h2><p>By default, the service principal sets a contributor role to your subscription. We don&rsquo;t want to give Travis that much power.</p><p>We only want the service principal the ability to operate on our CDN profile for purging.</p><p>First Remove the service principal from your subscription. Go to your Subscription by either searching your subscription name or look for it in the <a href=https://ms.portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade>Subscriptions blade</a>. Then navigate to the subscription in which you created your Service Principal, and click on &ldquo;Access Control&rdquo;.</p><p><img src=/hugo-travis/remove-service-principal-subscription.jpg alt="Remove service principal from your subscription"></p><p>Select the service principal, and click &ldquo;Remove&rdquo;.</p><p>Now, you can navigate to your CDN Profile resource, and go to its Access Control blade. Then, search for your service principal by clicking &ldquo;Add&rdquo; button. See screenshot below.</p><p><img src=/hugo-travis/assign-service-principal-cdn.jpg alt="Add service principal to your CDN Profile"></p><p>You are now done with the Azure portion of the setup.</p><h2 id=5-set-up-your-travis-environment-variables>5. Set up your Travis Environment Variables</h2><p>Assuming you already have the repo on github, login into <a href=travis-ci.org>travis-ci.org</a>, and go to your account.
You should see a list of your public repositories. If you do not, click &ldquo;Sync Account&rdquo; on the upper right of the screen.</p><blockquote><p>Note: Make sure you are on travis-ci**.org** and NOT on travis-ci**.com**</p></blockquote><p><img src=/hugo-travis/travis-sync-account.jpg alt="Sync Account on your Profile"></p><p>Find the repo you want to deploy, and click the toggle. wait until it turns green, and then click into the repository.</p><p>When you are in the repository on Travis, click Settings.</p><p><img src=/hugo-travis/travis-settings-click.jpg alt="Click Settings"></p><p>Scroll to &ldquo;Environment Variables&rdquo; and put the following environment variables:</p><ul><li><code>AZURE_SERVICE_PRINCIPAL_APP_ID</code> - the <code>appId</code> from the json object when you created the service principal</li><li><code>AZURE_SERVICE_PRINCIPAL_APP_PASSWORD</code> - the <code>password</code> from the json object</li><li><code>AZURE_SERVICE_PRINCIPAL_TENANT</code> - the <code>tenantId</code> from that json object</li><li><code>AZURE_STORAGE_ACCESS_KEY</code> - the access Key for the storage account to upload your files</li><li><code>AZURE_STORAGE_ACCOUNT</code> - the name of the storage account</li><li><code>BLOBSTORAGE_CONTAINER_NAME</code> - the container for which you want to upload to</li></ul><h2 id=6-add-your-travis-file>6. Add your Travis file</h2><p>Here is the <code>.travis.yml</code> file to add to your repo:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#960050;background-color:#1e0010>dist:</span> <span style=color:#960050;background-color:#1e0010>wheezy</span>
<span style=color:#960050;background-color:#1e0010>sudo:</span> <span style=color:#960050;background-color:#1e0010>off</span>
<span style=color:#960050;background-color:#1e0010>addons:</span>
  <span style=color:#960050;background-color:#1e0010>apt:</span>
    <span style=color:#960050;background-color:#1e0010>packages:</span>
      <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>python-dev</span>

<span style=color:#960050;background-color:#1e0010>language:</span> <span style=color:#960050;background-color:#1e0010>go</span>

<span style=color:#960050;background-color:#1e0010>git:</span>
  <span style=color:#960050;background-color:#1e0010>depth:</span> <span style=color:#ae81ff>10</span>

<span style=color:#960050;background-color:#1e0010>branches:</span>
  <span style=color:#960050;background-color:#1e0010>only:</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>master</span>

<span style=color:#960050;background-color:#1e0010>env:</span>
  <span style=color:#960050;background-color:#1e0010>global:</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>SOURCE_DIR=</span><span style=color:#e6db74>&#34;public&#34;</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>DESTINATION_PATH=</span><span style=color:#e6db74>&#34;https://haosblob.blob.core.windows.net/public/&#34;</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>CDN_RESOURCE_GROUP=</span><span style=color:#e6db74>&#34;haosblog-rg&#34;</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>CDN_ENDPOINT_NAME=</span><span style=color:#e6db74>&#34;haosblog&#34;</span>
    <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>CDN_PROFILE=</span><span style=color:#e6db74>&#34;haos-premium-cdn&#34;</span>

<span style=color:#960050;background-color:#1e0010>install:</span> 
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>go</span> <span style=color:#960050;background-color:#1e0010>get</span> <span style=color:#960050;background-color:#1e0010>-u</span> <span style=color:#960050;background-color:#1e0010>-v</span> <span style=color:#960050;background-color:#1e0010>github.com/spf</span><span style=color:#ae81ff>13</span><span style=color:#960050;background-color:#1e0010>/hugo</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>echo</span> <span style=color:#e6db74>&#34;deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ wheezy main&#34;</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>tee</span> <span style=color:#960050;background-color:#1e0010>/etc/apt/sources.list.d/azure-cli.list</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>apt-key</span> <span style=color:#960050;background-color:#1e0010>adv</span> <span style=color:#960050;background-color:#1e0010>--keyserver</span> <span style=color:#960050;background-color:#1e0010>packages.microsoft.com</span> <span style=color:#960050;background-color:#1e0010>--recv-keys</span> <span style=color:#ae81ff>417</span><span style=color:#960050;background-color:#1e0010>A</span><span style=color:#ae81ff>0893</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>sh</span> <span style=color:#960050;background-color:#1e0010>-c</span> <span style=color:#960050;background-color:#1e0010>&#39;echo</span> <span style=color:#e6db74>&#34;deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main&#34;</span> <span style=color:#960050;background-color:#1e0010>&gt;</span> <span style=color:#960050;background-color:#1e0010>/etc/apt/sources.list.d/dotnetdev.list&#39;</span> 
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>apt-key</span> <span style=color:#960050;background-color:#1e0010>adv</span> <span style=color:#960050;background-color:#1e0010>--keyserver</span> <span style=color:#960050;background-color:#1e0010>hkp://keyserver.ubuntu.com:</span><span style=color:#ae81ff>80</span> <span style=color:#960050;background-color:#1e0010>--recv-keys</span> <span style=color:#ae81ff>417</span><span style=color:#960050;background-color:#1e0010>A</span><span style=color:#ae81ff>0893</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>curl</span> <span style=color:#960050;background-color:#1e0010>https://packages.microsoft.com/config/ubuntu/</span><span style=color:#ae81ff>14.04</span><span style=color:#960050;background-color:#1e0010>/prod.list</span> <span style=color:#960050;background-color:#1e0010>&gt;</span> <span style=color:#960050;background-color:#1e0010>./microsoft-prod.list</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>cp</span> <span style=color:#960050;background-color:#1e0010>./microsoft-prod.list</span> <span style=color:#960050;background-color:#1e0010>/etc/apt/sources.list.d/</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>curl</span> <span style=color:#960050;background-color:#1e0010>https://packages.microsoft.com/keys/microsoft.asc</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#960050;background-color:#1e0010>gpg</span> <span style=color:#960050;background-color:#1e0010>--dearmor</span> <span style=color:#960050;background-color:#1e0010>&gt;</span> <span style=color:#960050;background-color:#1e0010>microsoft.gpg</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>cp</span> <span style=color:#960050;background-color:#1e0010>./microsoft.gpg</span> <span style=color:#960050;background-color:#1e0010>/etc/apt/trusted.gpg.d/</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>apt-get</span> <span style=color:#960050;background-color:#1e0010>update</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>sudo</span> <span style=color:#960050;background-color:#1e0010>apt-get</span> <span style=color:#960050;background-color:#1e0010>install</span> <span style=color:#960050;background-color:#1e0010>apt-transport-https</span> <span style=color:#960050;background-color:#1e0010>azcopy</span> <span style=color:#960050;background-color:#1e0010>azure-cli</span>

<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#960050;background-color:#1e0010>Build</span> <span style=color:#960050;background-color:#1e0010>the</span> <span style=color:#960050;background-color:#1e0010>website</span>
<span style=color:#960050;background-color:#1e0010>script:</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>mkdir</span> <span style=color:#960050;background-color:#1e0010>themes</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>git</span> <span style=color:#960050;background-color:#1e0010>clone</span> <span style=color:#960050;background-color:#1e0010>https://github.com/digitalcraftsman/hugo-icarus-theme.git</span> <span style=color:#960050;background-color:#1e0010>themes/hugo-icarus-theme</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>hugo</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>azcopy</span> <span style=color:#960050;background-color:#1e0010>--source</span> <span style=color:#960050;background-color:#1e0010>$SOURCE_DIR</span> <span style=color:#960050;background-color:#1e0010>--destination</span> <span style=color:#960050;background-color:#1e0010>$DESTINATION_PATH</span> <span style=color:#960050;background-color:#1e0010>--dest-key</span> <span style=color:#960050;background-color:#1e0010>$AZURE_STORAGE_ACCESS_KEY</span> <span style=color:#960050;background-color:#1e0010>--recursive</span> <span style=color:#960050;background-color:#1e0010>--quiet</span> <span style=color:#960050;background-color:#1e0010>--set-content-type</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>az</span> <span style=color:#960050;background-color:#1e0010>login</span> <span style=color:#960050;background-color:#1e0010>--service-principal</span> <span style=color:#960050;background-color:#1e0010>-u</span> <span style=color:#960050;background-color:#1e0010>$AZURE_SERVICE_PRINCIPAL_APP_ID</span> <span style=color:#960050;background-color:#1e0010>--password</span> <span style=color:#960050;background-color:#1e0010>$AZURE_SERVICE_PRINCIPAL_APP_PASSWORD</span> <span style=color:#960050;background-color:#1e0010>--tenant</span> <span style=color:#960050;background-color:#1e0010>$AZURE_SERVICE_PRINCIPAL_TENANT</span>
  <span style=color:#960050;background-color:#1e0010>-</span> <span style=color:#960050;background-color:#1e0010>az</span> <span style=color:#960050;background-color:#1e0010>cdn</span> <span style=color:#960050;background-color:#1e0010>endpoint</span> <span style=color:#960050;background-color:#1e0010>purge</span> <span style=color:#960050;background-color:#1e0010>-g</span> <span style=color:#960050;background-color:#1e0010>$CDN_RESOURCE_GROUP</span> <span style=color:#960050;background-color:#1e0010>-n</span> <span style=color:#960050;background-color:#1e0010>$CDN_ENDPOINT_NAME</span> <span style=color:#960050;background-color:#1e0010>--profile-name</span> <span style=color:#960050;background-color:#1e0010>$CDN_PROFILE</span> <span style=color:#960050;background-color:#1e0010>--content-paths</span> <span style=color:#e6db74>&#34;/*&#34;</span>
   
</code></pre></div><p>You will need to change some configurations. under <code>env</code> > <code>global</code>, set the variables according to your azure account:</p><p>And if you choose to pull down the latest version of your hugo theme, make sure to change the theme repo link under <code>script</code>, and also the directory name accordingly.</p><p>This Travis script is doing several things:</p><ol><li>Creates a themes directory and pull your theme down from Github</li><li>Builds the site with hugo</li><li>Uploads all the generated files to Blob Storage using <code>azcopy</code></li><li>Purges your CDN endpoint using <code>az</code> client</li></ol><h2 id=7-push-you-changes>7. Push you changes</h2><p>Once you have added your <code>.travis.yml</code> file to your repo. Just add it and push it to Github. After a few seconds, you can go to Travis, and watch your blog build.</p><p>Now every time you make a change to your site, even through the Github web app, your website will be updated.</p><hr><p>Please let me know in the comments below if there is a better way to deploy with Travis or speed up the build process.</p></div><footer class=article-footer><a data-url=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/ data-id=d179ef7125e4b114cec002f4bf867f9a class=article-share-link><i class="fa fa-share"></i>Share</a>
<a href=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/#disqus_thread class=article-comment-link>Comments</a>
<script>(function($){if(typeof(__SHARE_BUTTON_BINDED__)==='undefined'||!__SHARE_BUTTON_BINDED__){__SHARE_BUTTON_BINDED__=true;}else{return;}
$('body').on('click',function(){$('.article-share-box.on').removeClass('on');}).on('click','.article-share-link',function(e){e.stopPropagation();var $this=$(this),url=$this.attr('data-url'),encodedUrl=encodeURIComponent(url),id='article-share-box-'+$this.attr('data-id'),offset=$this.offset(),box;if($('#'+id).length){box=$('#'+id);if(box.hasClass('on')){box.removeClass('on');return;}}else{var html=['<div id="'+id+'" class="article-share-box">','<input class="article-share-input" value="'+url+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+encodedUrl+'" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+encodedUrl+'" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+encodedUrl+'" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+encodedUrl+'" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>','</div>','</div>'].join('');box=$(html);$('body').append(box);}
$('.article-share-box.on').hide();box.css({top:offset.top+25,left:offset.left}).addClass('on');}).on('click','.article-share-box',function(e){e.stopPropagation();}).on('click','.article-share-box-input',function(){$(this).select();}).on('click','.article-share-box-link',function(e){e.preventDefault();e.stopPropagation();window.open(this.href,'article-share-box-window-'+Date.now(),'width=500,height=450');});})(jQuery);</script></footer></div><nav id=article-nav><a href=https://blog.lifeishao.com/2017/05/24/serving-your-static-sites-with-azure-blob-and-cdn/ id=article-nav-older class=article-nav-link-wrap><strong class=article-nav-caption>Older</strong><div class=article-nav-title>Serving Your Static Sites with Azure Blob and CDN</div></a></nav></article><section id=comments><div id=disqus_thread><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"haosblog-1"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></section><aside id=sidebar><div class=widget-wrap><h3 class=widget-title>Recents</h3><div class=widget><ul id=recent-post><li><div class=item-thumbnail><a href=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/ class=thumbnail><span style=background-image:url(https://blog.lifeishao.com/img/hugo-travis-azure.jpg) alt="Serving Hugo on Azure with Continuous Integration" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-title><a href=https://blog.lifeishao.com/2017/09/25/serving-hugo-on-azure-with-continuous-integration/ class=title>Serving Hugo on Azure with Continuous Integration</a></p><p class=item-date><time datetime="2017-09-25 10:19:06 -0500 -0500" itemprop=datePublished>2017-09-25</time></p></div></li><li><div class=item-thumbnail><a href=https://blog.lifeishao.com/2017/05/24/serving-your-static-sites-with-azure-blob-and-cdn/ class=thumbnail><span style=background-image:url(https://blog.lifeishao.com/img/static-site-blob.jpg) alt="Serving Hugo on Azure with Continuous Integration" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-title><a href=https://blog.lifeishao.com/2017/05/24/serving-your-static-sites-with-azure-blob-and-cdn/ class=title>Serving Your Static Sites with Azure Blob and CDN</a></p><p class=item-date><time datetime="2017-05-24 16:25:52 -0500 -0500" itemprop=datePublished>2017-05-24</time></p></div></li><li><div class=item-thumbnail><a href=https://blog.lifeishao.com/2017/03/24/custom-nodejs-deployment-on-azure-web-app/ class=thumbnail><span style=background-image:url(https://blog.lifeishao.com/img/azure-node.jpg) alt="Serving Hugo on Azure with Continuous Integration" class=thumbnail-image></span></a></div><div class=item-inner><p class=item-title><a href=https://blog.lifeishao.com/2017/03/24/custom-nodejs-deployment-on-azure-web-app/ class=title>Custom NodeJs Deployment on Azure Web App</a></p><p class=item-date><time datetime="2017-03-24 17:05:17 -0500 -0500" itemprop=datePublished>2017-03-24</time></p></div></li><li><div class=item-thumbnail><a href=https://blog.lifeishao.com/2017/03/21/serving-static-assets-in-restify/ class=thumbnail><span class="thumbnail-image thumbnail-none"></span></a></div><div class=item-inner><p class=item-category><a class=article-category-link href=https://blog.lifeishao.com/categories/azure>Azure</a></p><p class=item-title><a href=https://blog.lifeishao.com/2017/03/21/serving-static-assets-in-restify/ class=title>Serving Static Assets in Restify</a></p><p class=item-date><time datetime="2017-03-21 17:02:21 -0500 -0500" itemprop=datePublished>2017-03-21</time></p></div></li><li><div class=item-thumbnail><a href=https://blog.lifeishao.com/2016/07/30/gre-math-formulas/ class=thumbnail><span class="thumbnail-image thumbnail-none"></span></a></div><div class=item-inner><p class=item-title><a href=https://blog.lifeishao.com/2016/07/30/gre-math-formulas/ class=title>Gre Math Formulas</a></p><p class=item-date><time datetime="2016-07-30 13:40:15 -0500 -0500" itemprop=datePublished>2016-07-30</time></p></div></li></ul></div></div><div class=widget-wrap><h3 class=widget-title>Categories</h3><div class=widget><ul class=category-list><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/categories/azure>azure</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/categories/nodejs>nodejs</a>
<span class=category-list-count>1</span></li></ul></div></div><div class=widget-wrap><h3 class=widget-title>Tags</h3><div class=widget><ul class=category-list><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/azure>azure</a>
<span class=category-list-count>2</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/deploy>deploy</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/deployment>deployment</a>
<span class=category-list-count>2</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/docker>docker</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/dokku>dokku</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/evaluation>evaluation</a>
<span class=category-list-count>2</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/hugo>hugo</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/nodejs>nodejs</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://blog.lifeishao.com/tags/response>response</a>
<span class=category-list-count>2</span></li></ul></div></div><div class=widget-wrap><h3 class=widget-title>Tag cloud</h3><div class="widget tagcloud"><a href=https://blog.lifeishao.com/tags/azure style=font-size:12px>azure</a>
<a href=https://blog.lifeishao.com/tags/deploy style=font-size:12px>deploy</a>
<a href=https://blog.lifeishao.com/tags/deployment style=font-size:12px>deployment</a>
<a href=https://blog.lifeishao.com/tags/docker style=font-size:12px>docker</a>
<a href=https://blog.lifeishao.com/tags/dokku style=font-size:12px>dokku</a>
<a href=https://blog.lifeishao.com/tags/evaluation style=font-size:12px>evaluation</a>
<a href=https://blog.lifeishao.com/tags/hugo style=font-size:12px>hugo</a>
<a href=https://blog.lifeishao.com/tags/nodejs style=font-size:12px>nodejs</a>
<a href=https://blog.lifeishao.com/tags/response style=font-size:12px>response</a></div></div><div id=toTop class="fa fa-angle-up"></div></aside></div></div><footer id=footer><div class=outer><div id=footer-info class=inner>&copy; 2020
Powered by <a href=//gohugo.io>Hugo</a>.</div></div></footer><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-32998844-2','auto');ga('send','pageview');}</script><script src=https://blog.lifeishao.com/fancybox/jquery.fancybox.pack.js></script><script src=https://blog.lifeishao.com/js/script.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>